
Student OS: Техническая спецификация платформы


1. Архитектурный обзор (High-Level Design)

Мы отходим от Web3-архитектуры Unitap (где идентификатором был кошелек) к классической Web2-архитектуре (Email), но сохраняем их модульный подход.
Стек технологий (Tech Stack):
Frontend (Пользователь): Next.js (как на Unitap.org). Это позволяет иметь быстрый SEO-оптимизированный сайт, который легко превратить в PWA (приложение в браузере).
Backend (База и Логика): Supabase. Заменяет собой Django-бэкенд Unitap в части хранения пользователей и данных.
Data Engine (Сбор данных): Python. Отдельные скрипты (воркеры), которые парсят данные и "кладут" их в Supabase.
AI Brain: Google Gemini 1.5 Flash. Генерирует тесты и уникализирует контент.

2. Модуль Аутентификации (Identity Layer)

Отказ от SMS в пользу Email — это стандарт для международных EdTech проектов (Duolingo, Coursera).

Реализация через Supabase Auth

Вместо сложной интеграции с операторами связи (Kcell), мы используем встроенный SMTP (или подключаем бесплатный Resend/SendGrid).
Метод: "Magic Link" (Волшебная ссылка) или "Email + Password".
Почему Magic Link: Пользователь вводит Email -> получает ссылку -> кликает и входит. Ему не нужно запоминать пароль. Это безопаснее и проще для пользователя.
Таблица profiles:
В Supabase создается таблица, связанная с auth.users.
id: UUID (ссылка на auth)
target_country: (куда хочет поступать: USA, KZ, Korea)
gpa: (средний балл)
ielts_score: (текущий уровень)

3. Стратегия агрегации данных (Data Pipeline)

Это самая сложная и важная часть. Мы не создаем контент вручную, мы его агрегируем.

Источник А: Университеты (Unitap.org / QS Rankings)

Unitap.org использует Next.js, значит данные приходят через JSON API.
Метод (Reverse Engineering):
Откройте Unitap.org, нажмите F12 (Developer Tools) -> Network.
Обновите страницу списка. Найдите запрос типа fetch или xhr, который возвращает JSON с вузами.
Python-скрипт: Напишите скрипт, который эмулирует этот запрос и сохраняет ответ в нашу базу.
Структура базы (Table: universities):
name: "Nazarbayev University"
rank: 1 (по локальному рейтингу)
tuition_fee: 0 (если грант)
deadline: "2025-04-30"
requirements: JSONB поле {"ielts": 6.5, "sat": 1200}. Это позволит фильтровать вузы SQL-запросом.

Источник Б: Тесты IELTS (Engnovate)

Engnovate часто построен на WordPress (по структуре ссылок).
Метод (WP JSON API):
Попробуйте открыть engnovate.com/wp-json/wp/v2/posts. Если открывается JSON — джекпот. Вы можете легально читать все статьи и уроки.
Если API закрыт — используем библиотеку BeautifulSoup.
Важно (Copyright): Нельзя просто копировать их тексты 1-в-1 ("Copy-Paste"). Это нарушение.
Решение (AI Paraphrasing):
Парсер берет текст Reading c Engnovate.
Отправляет в Gemini: "Перепиши этот текст для академического чтения, сохранив уровень C1, но изменив тему с 'Биологии' на 'Космос' и создай 5 вопросов к нему".
В базу сохраняется уникальный контент, который юридически принадлежит вам.

Источник В: SAT / Математика (Khan Academy)

Сайт Khan Academy защищен от парсинга, но у них есть официальные офлайн-версии.
Метод (ZIM Archives):
Скачиваем файл khanacademy_en_sat.zim (архив Kiwix).
Используем Python-библиотеку libzim.
Скрипт пробегается по архиву, находит статьи с тегом "Math" или "SAT", извлекает текст и формулы (LaTeX).
Сохраняет в нашу таблицу lessons.
Преимущество: Это работает быстро, не требует интернета при парсинге и не банится защитой Cloudflare.

4. Модуль "Умного Поступления" (Logic Layer)

Вместо геймификации (коинов) мы делаем упор на Utility (Пользу). Главная фича — "Калькулятор Шансов".

Алгоритм мэтчинга (PostgreSQL Function)

Мы пишем функцию внутри Supabase (PL/pgSQL), которая сравнивает профиль студента с требованиями вузов.

SQL


-- Пример логики (псевдокод)
SELECT * FROM universities
WHERE
  requirements->>'ielts' <= user.ielts_score  -- IELTS пользователя выше требования
  AND
  requirements->>'gpa' <= user.gpa             -- GPA пользователя проходит
ORDER BY rank ASC;


Для пользователя это выглядит так:
Он заполнил профиль (IELTS 6.5, GPA 4.0).
Нажимает "Куда я пройду?".
Система выдает список: "Ты проходишь в KBTU (100%), SDU (90%), но для NU нужно подтянуть SAT на 100 баллов". Это киллер-фича.

5. План разработки (Roadmap)


Неделя 1: База и Парсинг (Python)

Развернуть Supabase. Создать таблицы users, universities, exams.
Написать Python-скрипт parse_universities.py. Собрать данные о 3000 топовых вузах (KZ + мир).
Запустить Gemini API. Написать скрипт generate_ielts.py, который создаст 20 пробных тестов Reading/Listening.

Неделя 2: Frontend (Next.js)

Создать проект Next.js.
Настроить Supabase Auth (Email).
Сделать 3 страницы:
Dashboard: "Твой прогресс".
University Finder: Список вузов с фильтрами (твоя база данных).
Profile: Форма ввода своих баллов.

Неделя 3: Тестирование и AI

Добавить раздел "Practice". Простой интерфейс теста (выбор A/B/C/D).
Подключить Gemini для проверки эссе (Writing Task). Пользователь пишет текст -> Gemini дает балл и советы.

6. Итоговая структура файлов проекта

Чтобы вы понимали, как это выглядит в коде:
/student-os
├── /backend (Python Scripts)
│ ├── parser_uni.py # Парсер университетов
│ ├── parser_khan.py # Читалка ZIM файлов
│ ├── ai_generator.py # Генератор тестов через Gemini
│ └── requirements.txt # libzim, google-generativeai, supabase
│
├── /frontend (Next.js)
│ ├── /app
│ │ ├── /auth # Страница входа (Email)
│ │ ├── /universities # Поиск вузов
│ │ └── /practice # Интерфейс тестов
│ ├── /lib
│ │ └── supabase.js # Настройки подключения к базе
│ └── package.json
│
└── README.md # Инструкция по запуску
Резюме: Убираем лишнее (SMS, токены, магазин наград). Фокусируемся на данных. Вы даете студенту инструмент: "Введи свои данные — узнай, куда поступишь и что подтянуть". Это "Google Maps" для поступления.
